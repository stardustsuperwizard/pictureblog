environment:
  ADMIN_NAME: ${ADMIN_NAME}
  ADMIN_PASS: ${ADMIN_PASS}
  JWTSECRET: ${JWTSECRET}
packages:
  - name: auth
    functions:
      - name: home
        environment:
          LOG_DESTINATIONS: '[{"logtail":{"token":"${LOGTAIL}"}}]'
        runtime: 'python:3.11'
        limits:
          timeout: 30000
      - name: login
        environment:
          LOG_DESTINATIONS: '[{"logtail":{"token":"${LOGTAIL}"}}]'
        runtime: 'python:3.11'
        limits:
          timeout: 30000
      - name: logout
        environment:
          LOG_DESTINATIONS: '[{"logtail":{"token":"${LOGTAIL}"}}]'
        runtime: 'python:3.11'
        limits:
          timeout: 30000
  - name: fediverse
    functions:
      - name: mastodon
        environment:
          LOG_DESTINATIONS: '[{"logtail":{"token":"${LOGTAIL}"}}]'
        runtime: 'python:3.11'
        limits:
          timeout: 30000